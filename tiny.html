<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>tinypng</title>
</head>
<style>
    button{
        width: 50px;
        border:2px solid #000;
        height: 50px;
        margin: 0 auto;
        margin-top: 400px;
    }
</style>
<body>
    <button id="btn">点击请求接口</button>
    <form action=""></form>
    <input type="file" id="inpt" accept="image/*"/>
    <script src="./jquery.js"></script>
<script>
    // var btn = document.getElementById('btn');
    var inpt = document.getElementById('inpt');
    var file = new FileReader();

    inpt.addEventListener('change',function(e){
        console.log(inpt.files[0])
        var formData = new FormData();
        formData.append('type', 'png');
        formData.append('file', inpt.files[0]);
		console.log(formData)
        $.ajax({
            url:'http://127.0.0.1:3000',
            dataType:'json',
            method:'post',
            data:formData,
            contentType:false,
            processData:false,
            success:function(data){
                console.log(data)
            },
            error:function(data){
                console.log(data)
            }
        })
    })
</script>
</body>
</html>